<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remover Fundo - IA para Remoção Automática | Util Tools</title>
    <meta name="description" content="Remova o fundo de imagens automaticamente usando IA. Gratuito, rápido e com resultados profissionais.">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg"></div>
    
    <!-- Floating Particles -->
    <div class="particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <!-- Header -->
    <header class="modern-header">
        <div class="header-content">
            <a href="/" class="logo">
                <i class="fas fa-tools"></i>
                Util Tools
            </a>
            
            <button class="menu-toggle" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav>
                <ul class="nav-menu" id="navMenu">
                    <li class="nav-item">
                        <a class="nav-link" href="/">
                            <i class="fas fa-home"></i> Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/ocr">
                            <i class="fas fa-file-text"></i> OCR
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/ytc">
                            <i class="fab fa-youtube"></i> YouTube
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/mptmp">
                            <i class="fas fa-music"></i> MP4 → MP3
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/imagermbg" style="background: rgba(255, 255, 255, 0.1);">
                            <i class="fas fa-cut"></i> Remove BG
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/mdcr">
                            <i class="fab fa-soundcloud"></i> Music
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/inscon">
                            <i class="fab fa-instagram"></i> Instagram
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/sobre">
                            <i class="fas fa-info-circle"></i> Sobre
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <h1 class="hero-title">
            <i class="fas fa-cut" style="color: #48bb78;"></i>
            Remover Fundo com IA
        </h1>
        <p class="hero-subtitle">
            Remova o fundo de suas imagens automaticamente usando inteligência artificial. Resultados profissionais em segundos.
        </p>
    </section>

    <!-- Main Content -->
    <main style="max-width: 900px; margin: 0 auto; padding: 0 2rem;">
        <!-- Upload Form -->
        <div class="form-container">
            <form method="post" enctype="multipart/form-data" id="bgRemoveForm">
                <div class="form-group">
                    <label for="imagem" class="form-label">
                        <i class="fas fa-upload"></i>
                        Selecione uma imagem
                    </label>
                    <input type="file" 
                           class="form-control" 
                           id="imagem" 
                           name="imagem" 
                           accept="image/*"
                           required>
                    <div style="margin-top: 0.5rem; color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">
                        <i class="fas fa-info-circle"></i>
                        Suporta: JPG, PNG, WEBP - Máximo 10MB
                    </div>
                </div>
                
                <!-- Image Preview -->
                <div id="imagePreview" style="display: none; margin: 1rem 0; text-align: center;">
                    <img id="previewImage" style="max-width: 100%; max-height: 300px; border-radius: 8px; box-shadow: var(--shadow-lg);">
                </div>
                
                <button type="submit" class="btn-primary" id="submitBtn">
                    <span id="submitText">
                        <i class="fas fa-cut"></i>
                        Remover Fundo
                    </span>
                    <span id="loadingText" style="display: none;">
                        <div class="loading"></div>
                        Processando com IA...
                    </span>
                </button>
            </form>
        </div>

        <!-- Alert Messages -->
        {% if mensagem %}
        <div class="alert {% if 'sucesso' in mensagem %}alert-success{% else %}alert-danger{% endif %}">
            <i class="fas {% if 'sucesso' in mensagem %}fa-check-circle{% else %}fa-exclamation-triangle{% endif %}"></i>
            {{ mensagem }}
        </div>
        {% endif %}

        <!-- Results -->
        {% if imagem_sem_fundo %}
        <div class="result-container">
            <h3 style="color: white; margin-bottom: 1.5rem; text-align: center;">
                <i class="fas fa-check-circle" style="color: #48bb78;"></i>
                Resultado - Fundo Removido
            </h3>
            
            <div style="text-align: center; margin-bottom: 2rem;">
                <img src="{{ imagem_sem_fundo }}" class="result-image" style="max-width: 100%; border-radius: 12px; box-shadow: var(--shadow-xl);">
            </div>
            
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;">
                <a href="{{ imagem_sem_fundo }}" download class="tool-btn" style="flex: 1; min-width: 140px;">
                    <i class="fas fa-download"></i>
                    Baixar PNG
                </a>
                <button onclick="shareImage('{{ imagem_sem_fundo }}')" class="tool-btn" style="flex: 1; min-width: 140px; background: linear-gradient(45deg, #667eea, #764ba2);">
                    <i class="fas fa-share"></i>
                    Compartilhar
                </button>
                <button onclick="location.reload()" class="tool-btn" style="flex: 1; min-width: 140px; background: linear-gradient(45deg, #f093fb, #f5576c);">
                    <i class="fas fa-plus"></i>
                    Nova Imagem
                </button>
            </div>
        </div>
        {% endif %}

        <!-- Features Grid -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin: 3rem 0;">
            
            <div class="tool-card" style="text-align: center; padding: 1.5rem;">
                <div class="tool-icon" style="color: #48bb78; font-size: 2.5rem;">
                    <i class="fas fa-brain"></i>
                </div>
                <h3 style="color: white; margin: 1rem 0 0.5rem;">IA Avançada</h3>
                <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">
                    Tecnologia de inteligência artificial de última geração
                </p>
            </div>

            <div class="tool-card" style="text-align: center; padding: 1.5rem;">
                <div class="tool-icon" style="color: #667eea; font-size: 2.5rem;">
                    <i class="fas fa-magic"></i>
                </div>
                <h3 style="color: white; margin: 1rem 0 0.5rem;">Automático</h3>
                <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">
                    Sem necessidade de seleção manual ou edição
                </p>
            </div>

            <div class="tool-card" style="text-align: center; padding: 1.5rem;">
                <div class="tool-icon" style="color: #f093fb; font-size: 2.5rem;">
                    <i class="fas fa-star"></i>
                </div>
                <h3 style="color: white; margin: 1rem 0 0.5rem;">Profissional</h3>
                <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">
                    Qualidade profissional para seus projetos
                </p>
            </div>

        </div>

        <!-- Before/After Examples -->
        <div class="tool-card" style="margin-top: 2rem;">
            <h3 class="tool-title" style="text-align: center; margin-bottom: 2rem;">
                <i class="fas fa-eye"></i>
                Casos de Uso
            </h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem;">
                
                <div style="text-align: center; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                    <i class="fas fa-store" style="font-size: 2rem; color: #667eea; margin-bottom: 0.5rem;"></i>
                    <h4 style="color: white; margin-bottom: 0.5rem;">E-commerce</h4>
                    <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">
                        Produtos com fundo transparente para lojas online
                    </p>
                </div>

                <div style="text-align: center; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                    <i class="fas fa-id-card" style="font-size: 2rem; color: #48bb78; margin-bottom: 0.5rem;"></i>
                    <h4 style="color: white; margin-bottom: 0.5rem;">Documentos</h4>
                    <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">
                        Fotos para documentos com fundo branco
                    </p>
                </div>

                <div style="text-align: center; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                    <i class="fas fa-palette" style="font-size: 2rem; color: #f093fb; margin-bottom: 0.5rem;"></i>
                    <h4 style="color: white; margin-bottom: 0.5rem;">Design</h4>
                    <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">
                        Elementos gráficos para composições criativas
                    </p>
                </div>

                <div style="text-align: center; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                    <i class="fas fa-users" style="font-size: 2rem; color: #764ba2; margin-bottom: 0.5rem;"></i>
                    <h4 style="color: white; margin-bottom: 0.5rem;">Social Media</h4>
                    <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">
                        Conteúdo profissional para redes sociais
                    </p>
                </div>

            </div>
        </div>

        <!-- Instructions -->
        <div class="tool-card" style="margin-top: 2rem; text-align: left;">
            <h3 class="tool-title" style="text-align: center;">
                <i class="fas fa-lightbulb"></i>
                Como remover o fundo
            </h3>
            <div style="color: rgba(255, 255, 255, 0.8); line-height: 1.8;">
                <div style="margin-bottom: 1rem;">
                    <i class="fas fa-check" style="color: #48bb78; margin-right: 0.5rem;"></i>
                    <strong>1.</strong> Clique em "Selecione uma imagem" e escolha sua foto
                </div>
                <div style="margin-bottom: 1rem;">
                    <i class="fas fa-check" style="color: #48bb78; margin-right: 0.5rem;"></i>
                    <strong>2.</strong> Aguarde o preview da imagem aparecer
                </div>
                <div style="margin-bottom: 1rem;">
                    <i class="fas fa-check" style="color: #48bb78; margin-right: 0.5rem;"></i>
                    <strong>3.</strong> Clique em "Remover Fundo" e aguarde o processamento
                </div>
                <div style="margin-bottom: 1rem;">
                    <i class="fas fa-check" style="color: #48bb78; margin-right: 0.5rem;"></i>
                    <strong>4.</strong> Baixe sua imagem com fundo transparente em PNG
                </div>
                
                <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(102, 126, 234, 0.1); border-radius: 8px;">
                    <i class="fas fa-lightbulb" style="color: #667eea; margin-right: 0.5rem;"></i>
                    <strong>Dica:</strong> Para melhores resultados, use imagens com boa iluminação e contraste entre o objeto e o fundo.
                </div>

                <div style="margin-top: 1rem; padding: 1rem; background: rgba(72, 187, 120, 0.1); border-radius: 8px;">
                    <i class="fas fa-shield-alt" style="color: #48bb78; margin-right: 0.5rem;"></i>
                    <strong>Privacidade:</strong> Suas imagens são processadas e automaticamente deletadas dos nossos servidores.
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>
            <i class="fas fa-heart" style="color: #f56565;"></i>
            Util Tools - Remoção de fundo com IA gratuita
        </p>
    </footer>

    <!-- JavaScript -->
    <script>
        // Mobile menu toggle
        function toggleMenu() {
            const navMenu = document.getElementById('navMenu');
            navMenu.classList.toggle('active');
        }

        // Form submission with loading state
        document.getElementById('bgRemoveForm').addEventListener('submit', function() {
            const submitBtn = document.getElementById('submitBtn');
            const submitText = document.getElementById('submitText');
            const loadingText = document.getElementById('loadingText');
            
            submitBtn.disabled = true;
            submitText.style.display = 'none';
            loadingText.style.display = 'inline-flex';
        });

        // Image preview
        document.getElementById('imagem').addEventListener('change', function(e) {
            const file = e.target.files[0];
            const preview = document.getElementById('imagePreview');
            const previewImage = document.getElementById('previewImage');
            const label = document.querySelector('label[for="imagem"]');
            
            if (file) {
                // Check file size (10MB limit)
                if (file.size > 10 * 1024 * 1024) {
                    alert('Arquivo muito grande! Máximo 10MB permitido.');
                    this.value = '';
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewImage.src = e.target.result;
                    preview.style.display = 'block';
                    
                    // Animate preview
                    previewImage.style.opacity = '0';
                    previewImage.style.transform = 'scale(0.9)';
                    setTimeout(() => {
                        previewImage.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
                        previewImage.style.opacity = '1';
                        previewImage.style.transform = 'scale(1)';
                    }, 100);
                };
                reader.readAsDataURL(file);
                
                label.innerHTML = `<i class="fas fa-image"></i> ${file.name}`;
                label.style.color = '#48bb78';
            } else {
                preview.style.display = 'none';
                label.innerHTML = '<i class="fas fa-upload"></i> Selecione uma imagem';
                label.style.color = '';
            }
        });

        // Share function
        function shareImage(imageUrl) {
            if (navigator.share) {
                fetch(imageUrl)
                    .then(response => response.blob())
                    .then(blob => {
                        const file = new File([blob], 'fundo_removido.png', { type: 'image/png' });
                        navigator.share({
                            title: 'Imagem com fundo removido',
                            text: 'Confira esta imagem que editei no Util Tools!',
                            files: [file]
                        });
                    });
            } else {
                // Fallback: copy link
                navigator.clipboard.writeText(window.location.origin + imageUrl);
                
                // Show feedback
                const btn = event.target.closest('button');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> Link copiado!';
                btn.style.background = 'linear-gradient(45deg, #48bb78, #38a169)';
                
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.style.background = 'linear-gradient(45deg, #667eea, #764ba2)';
                }, 2000);
            }
        }

        // Drag and drop support
        const form = document.getElementById('bgRemoveForm');
        const fileInput = document.getElementById('imagem');

        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            form.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            form.addEventListener(eventName, highlight, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            form.addEventListener(eventName, unhighlight, false);
        });

        function highlight(e) {
            form.style.background = 'rgba(102, 126, 234, 0.1)';
            form.style.borderColor = '#667eea';
        }

        function unhighlight(e) {
            form.style.background = '';
            form.style.borderColor = '';
        }

        form.addEventListener('drop', handleDrop, false);

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            
            if (files.length > 0) {
                fileInput.files = files;
                fileInput.dispatchEvent(new Event('change'));
            }
        }

        // Scroll effect for header
        window.addEventListener('scroll', () => {
            const header = document.querySelector('.modern-header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(255, 255, 255, 0.15)';
            } else {
                header.style.background = 'rgba(255, 255, 255, 0.1)';
            }
        });

        // Animate cards on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.tool-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(30px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });
    </script>
</body>
</html>
